.modal {

	display: none;
	position: fixed;
	z-index: 1;
	left: 0;
	top: 0;
	width: 100%;
	height: 100%;
	overflow: auto;
	background-color: rgb(0,0,0);
	background-color: rgba(0,0,0,0.4);
}

/* Modal Content/Box */

.modal-content {

	background-color: #fefefe;
	margin: 15% auto;
	padding: 20px;
	border: 1px solid #888;
	width: 80%; /* Could be more or less, depending os screen size */
}


/* The Close Button */

.close {

	color: #aaa;
	float: right;
	font-size: 28px;
	font-weight: bold;
}

.close:hover,
.close:focus {

	color: black;
	text-decoration: none;
	cursor: pointer;
}



















/* busqueda */

 
search = document.querySelector('.search');
dale = document.querySelector('.dale');
show = document.querySelector('.shownamee');



dale.addEventListener('click', enter);
search.addEventListener('keyup', enter);


function enter(){
var name = search.value;
search.innerHTML = "";
console.log(name); 

   
const apiURL = 'https://got-quotes.herokuapp.com/quotes?char='+ name;
//se crea una variable xhr que inicializa una peticion (XMLHttprequest...)
const xhr = new XMLHttpRequest();
//esta instancia tiene muchas funciones para usar
//en este caso se usa open con sus atributos, 
//get + URL + true(asincrono) (false (sincrono))

xhr.open('GET', apiURL, true); //abrimos nuestra petiticion
//cuando carge la peticion se abre la siguiente funcion

xhr.onload = () => {
    let json = JSON.parse(xhr.responseText);
    show.innerHTML = json.quote;

}

//este console sale cuando la llamada al url (apiURL) no se resuelve;
xhr.onerror = () => {
    console.log('API no encontrada')
}

//cada vez que se quiera abrir un API (json) se tiene que enviar con esta funcion
xhr.send()    
}
//jon snow













search = document.querySelector('.search');
dale = document.querySelector('.dale');
show = document.querySelector('.shownamee');
personaje = document.querySelector('#lol');

dale.addEventListener('click', enter);


function enter(){
var busqueda = search.value;
search.value = "";
console.log(busqueda); 
for (var i = 1800 - 1; i >= 0; i--) {
    

const apiURL = 'https://anapioficeandfire.com/api/characters/'+i;
//se crea una variable xhr que inicializa una peticion (XMLHttprequest...)
const xhr = new XMLHttpRequest();
//esta instancia tiene muchas funciones para usar
//en este caso se usa open con sus atributos, 
//get + URL + true(asincrono) (false (sincrono))

xhr.open('GET', apiURL, true); //abrimos nuestra petiticion
//cuando carge la peticion se abre la siguiente funcion

xhr.onreadystatechange = () => {
	if (xhr.readyState == 2) {
		show.innerHTML = "Loading...";
	}

	if (xhr.readyState == 4) {
		show.innerHTML = "";
		let json = JSON.parse(xhr.responseText);
        if (json.name.toLowerCase() === busqueda.toLowerCase())  {
        	console.log(json);
        	personaje.innerHTML = " "+json.name;
    		show.innerHTML = "Nombre:" + json.name + "Fecha:" + json.born + " " + json.gender;
	}

} 

xhr.onload = () => {
	

    	} 
}
//este console sale cuando la llamada al url (apiURL) no se resuelve;
xhr.onerror = () => {
    console.log('API no encontrada')
}

//cada vez que se quiera abrir un API (json) se tiene que enviar con esta funcion
xhr.send()    

//jon snow
}
}
 